"use strict";(self.webpackChunkrevyos_docs_new=self.webpackChunkrevyos_docs_new||[]).push([[1906],{3671:(e,n,o)=>{o.d(n,{A:()=>r});const r=o.p+"assets/images/docker-edit-service-overlay-done-92db1f9593c11b488da748dec3b6626c.png"},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>c});var r=o(6540);const i={},t=r.createContext(i);function s(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(t.Provider,{value:n},e.children)}},8864:(e,n,o)=>{o.d(n,{A:()=>r});const r=o.p+"assets/images/docker-edit-service-overlay-4133bf46bb560abc48075ab5e14f56c8.png"},9643:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"desktop/revyos-use-docker","title":"Docker","description":"The package for the riscv64 Docker installation is already available in the repository under the name docker.io. You can install it directly using:","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/desktop/revyos-use-docker.md","sourceDirName":"desktop","slug":"/desktop/revyos-use-docker","permalink":"/revyos-docs-new/en/docs/desktop/revyos-use-docker","draft":false,"unlisted":false,"editUrl":"https://github.com/kagura114/revyos-docs-new/tree/main/docs/desktop/revyos-use-docker.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Docker","sidebar_position":1},"sidebar":"documentSidebar","previous":{"title":"GStreamer Pipeline Example","permalink":"/revyos-docs-new/en/docs/adaptation/GStreamer-pipeline-example-with-thead-omxil-lib"},"next":{"title":"ROS2","permalink":"/revyos-docs-new/en/docs/desktop/software/ROS2"}}');var i=o(4848),t=o(8453);const s={title:"Docker",sidebar_position:1},c="Installing riscv64 Docker",d={},a=[{value:"Running Docker Without Root Privileges",id:"running-docker-without-root-privileges",level:2},{value:"Configuring a Proxy for Docker",id:"configuring-a-proxy-for-docker",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"installing-riscv64-docker",children:"Installing riscv64 Docker"})}),"\n",(0,i.jsxs)(n.p,{children:["The package for the riscv64 Docker installation is already available in the repository under the name ",(0,i.jsx)(n.code,{children:"docker.io"}),". You can install it directly using:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt install docker.io\n"})}),"\n",(0,i.jsx)(n.h1,{id:"testing-docker",children:"Testing Docker"}),"\n",(0,i.jsx)(n.p,{children:"To test the installation, run the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo docker pull riscv64/debian:unstable\n"})}),"\n",(0,i.jsx)(n.h1,{id:"tips",children:"Tips"}),"\n",(0,i.jsx)(n.h2,{id:"running-docker-without-root-privileges",children:"Running Docker Without Root Privileges"}),"\n",(0,i.jsx)(n.p,{children:"If you want to run Docker without root permissions (without using sudo), you may encounter the following error:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'debian@lpi4a:~$ docker pull riscv64/debian:unstable\nGot permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/images/create?fromImage=riscv64%2Fdebian&tag=unstable": dial unix /var/run/docker.sock: connect: permission denied\n'})}),"\n",(0,i.jsxs)(n.p,{children:["To resolve this, you need to add your user to the ",(0,i.jsx)(n.code,{children:"docker"})," group by running the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo usermod -aG docker $USER # Replace $USER with the username that needs to run Docker without root permission\n"})}),"\n",(0,i.jsx)(n.p,{children:"After executing this, log out and log back in. You can verify that you can run Docker without elevated privileges by checking your group ID:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ id\nuid=1000(debian) gid=1000(debian) groups=1000(debian),4(adm),7(lp),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),105(netdev),106(bluetooth),112(docker),996(input) # Look for the 'docker' group here\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuring-a-proxy-for-docker",children:"Configuring a Proxy for Docker"}),"\n",(0,i.jsxs)(n.p,{children:["To set up a proxy for Docker, you can use the ",(0,i.jsx)(n.code,{children:"systemctl edit"})," command to make modifications to the ",(0,i.jsx)(n.code,{children:"docker.service"}),". This method is more flexible compared to directly editing the ",(0,i.jsx)(n.code,{children:"docker.service"})," file, preventing configuration file overwrites during system updates."]}),"\n",(0,i.jsx)(n.p,{children:"Run the following command in the terminal to open the editor:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl edit docker\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will bring up an editing interface similar to the one shown below."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Editing Interface",src:o(8864).A+"",width:"1405",height:"820"})}),"\n",(0,i.jsx)(n.p,{children:"In the blank area, add the following configuration (make sure to replace the proxy addresses with your actual ones):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",children:'[Service]\nEnvironment="HTTP_PROXY=http://proxy.example.com:8080/"\nEnvironment="HTTPS_PROXY=http://proxy.example.com:8080/"\nEnvironment="NO_PROXY=localhost,127.0.0.1,.example.com"\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Completed Configuration",src:o(3671).A+"",width:"1409",height:"820"})}),"\n",(0,i.jsx)(n.p,{children:"Once you've made the changes, restart Docker to apply the new settings:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart docker\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);