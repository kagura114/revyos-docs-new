"use strict";(self.webpackChunkrevyos_docs_new=self.webpackChunkrevyos_docs_new||[]).push([[2848],{6022:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"build/debian/Debian\u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b","title":"Debian \u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b","description":"\u5bbf\u4e3b debian","source":"@site/docs/build/debian/Debian\u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b.md","sourceDirName":"build/debian","slug":"/build/debian/Debian\u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b","permalink":"/revyos-docs-new/docs/build/debian/Debian\u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b","draft":false,"unlisted":false,"editUrl":"https://github.com/kagura114/revyos-docs-new/docs/build/debian/Debian\u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b.md","tags":[],"version":"current","frontMatter":{},"sidebar":"documentSidebar","previous":{"title":"RevyOS","permalink":"/revyos-docs-new/docs/intro"},"next":{"title":"\u5982\u4f55\u542f\u7528 T-Head \u4f18\u5316 GCC","permalink":"/revyos-docs-new/docs/build/debian/enable_optimization_gcc"}}');var t=r(4848),i=r(8453);const o={},d="Debian \u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b",a={},c=[{value:"\u5bbf\u4e3b debian",id:"\u5bbf\u4e3b-debian",level:2},{value:"\u521b\u5efa\u6253\u5305\u73af\u5883",id:"\u521b\u5efa\u6253\u5305\u73af\u5883",level:2},{value:"revyos-c910v",id:"revyos-c910v",level:3},{value:"\u6784\u5efa\u547d\u4ee4",id:"\u6784\u5efa\u547d\u4ee4",level:2},{value:"revyos-c910v",id:"revyos-c910v-1",level:3}];function l(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"debian-\u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b",children:"Debian \u8f6f\u4ef6\u5305\u6784\u5efa\u6d41\u7a0b"})}),"\n",(0,t.jsx)(s.h2,{id:"\u5bbf\u4e3b-debian",children:"\u5bbf\u4e3b debian"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# qemu-user \u4e0b\u7f16\u8bd1\nsudo apt update\nsudo apt install -y \\\n\tsbuild buildd qemu-system-misc qemu-user-static binfmt-support \\\n\tca-certificates apt-transport-https devscripts mmdebstrap\n\n# native\nsudo apt install -y \\\n\tsbuild buildd ca-certificates apt-transport-https devscripts mmdebstrap\n\n# \u4fee\u6b63\u5bbf\u4e3b\u7684debian-ports\u8bc1\u4e66\u76f8\u5173\u95ee\u9898 \u73b0\u9636\u6bb5\u53ef\u80fd\u4e0d\u9700\u8981\u4e86\nwget https://mirror.sjtu.edu.cn/debian/pool/main/d/debian-ports-archive-keyring/debian-ports-archive-keyring_2023.02.01_all.deb\nsudo dpkg -i ./debian-ports-archive-keyring_2023.02.01_all.deb\n\n\n# sbuild \u589e\u52a0\u5f53\u524d\u7528\u6237\u514droot\nsudo sbuild-adduser $USER\n"})}),"\n",(0,t.jsx)(s.h2,{id:"\u521b\u5efa\u6253\u5305\u73af\u5883",children:"\u521b\u5efa\u6253\u5305\u73af\u5883"}),"\n",(0,t.jsx)(s.h3,{id:"revyos-c910v",children:"revyos-c910v"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'export SUFFIX=revyos-c910v-sbuild\nsudo sbuild-createchroot --debootstrap=debootstrap --arch=riscv64 \\\n\t--chroot-suffix=-$SUFFIX \\\n\t--keyring=\'\' \\\n\t--no-deb-src \\\n\t--include=debian-ports-archive-keyring,ca-certificates,apt-transport-https,eatmydata \\\n\t--extra-repository="deb [trusted=yes] https://mirror.iscas.ac.cn/revyos/revyos-c910v/ revyos-c910v main contrib non-free" \\\n\t--extra-repository="deb [trusted=yes] https://mirror.iscas.ac.cn/revyos/revyos-addons/ revyos-addons main" \\\n\tsid /srv/chroot/sid-riscv64-$SUFFIX \\\n\thttps://mirror.iscas.ac.cn/revyos/revyos-base/\n\n# \u4fee\u6b63\u73af\u5883\u76f8\u5173\u95ee\u9898\nsudo sed -i \'s/deb http/deb [trusted=yes] http/g\' /srv/chroot/sid-riscv64-$SUFFIX/etc/apt/sources.list\nsudo rm -rf /srv/chroot/sid-riscv64-$SUFFIX/var/lib/apt/lists/*\necho "command-prefix=eatmydata" | sudo tee -a /etc/schroot/chroot.d/sid-riscv64-$SUFFIX-*\n\n# \u8c03\u6574source\u987a\u5e8f - \u76ee\u7684\u662f\u540c\u7248\u672c\u4f7f\u7528c910v\u4ed3\u5e93\u7684\n# \u7f16\u8f91sources.list \u786e\u4fdd\u4ee5\u4e0b\u987a\u5e8f\ndeb [trusted=yes] https://mirror.iscas.ac.cn/revyos/revyos-c910v/ revyos-c910v main contrib non-free\ndeb [trusted=yes] https://mirror.iscas.ac.cn/revyos/revyos-addons/ revyos-addons main\ndeb [trusted=yes] https://mirror.iscas.ac.cn/revyos/revyos-base/ sid main contrib non-free non-free-firmware\n'})}),"\n",(0,t.jsx)(s.h2,{id:"\u6784\u5efa\u547d\u4ee4",children:"\u6784\u5efa\u547d\u4ee4"}),"\n",(0,t.jsx)(s.h3,{id:"revyos-c910v-1",children:"revyos-c910v"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sbuild --arch=riscv64 -d sid -c sid-riscv64-revyos-c910v-sbuild xxx.dsc\n"})})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>d});var n=r(6540);const t={},i=n.createContext(t);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);