"use strict";(self.webpackChunkrevyos_docs_new=self.webpackChunkrevyos_docs_new||[]).push([[9455],{543:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>l,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"build/other/thead-qemu\u7f16\u8bd1\u6d41\u7a0b","title":"T-Head QEMU \u7f16\u8bd1\u6d41\u7a0b","description":"C910V\u5f3a\u5236cpu\u6307\u5b9a\u8865\u4e01","source":"@site/docs/build/other/thead-qemu\u7f16\u8bd1\u6d41\u7a0b.md","sourceDirName":"build/other","slug":"/build/other/thead-qemu\u7f16\u8bd1\u6d41\u7a0b","permalink":"/revyos-docs-new/docs/build/other/thead-qemu\u7f16\u8bd1\u6d41\u7a0b","draft":false,"unlisted":false,"editUrl":"https://github.com/kagura114/revyos-docs-new/tree/main/docs/build/other/thead-qemu\u7f16\u8bd1\u6d41\u7a0b.md","tags":[],"version":"current","frontMatter":{},"sidebar":"documentSidebar","previous":{"title":"\u624b\u52a8\u7f16\u8bd1\u5185\u6838","permalink":"/revyos-docs-new/docs/build/other/manuel_build_kernel"},"next":{"title":"GStreamer \u64ad\u653e\u5668\u9002\u914d","permalink":"/revyos-docs-new/docs/adaptation/GStreamer\u64ad\u653e\u5668\u9002\u914d"}}');var s=t(4848),a=t(8453);const c={},i="T-Head QEMU \u7f16\u8bd1\u6d41\u7a0b",o={},d=[];function u(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"t-head-qemu-\u7f16\u8bd1\u6d41\u7a0b",children:"T-Head QEMU \u7f16\u8bd1\u6d41\u7a0b"})}),"\n",(0,s.jsx)(n.p,{children:"C910V\u5f3a\u5236cpu\u6307\u5b9a\u8865\u4e01"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-patch",children:'From 5164bca5a4bcde4534dc1a9aa3a7f619719874cf Mon Sep 17 00:00:00 2001\nFrom: Han Gao <gaohan@iscas.ac.cn>\nDate: Sun, 23 Apr 2023 22:11:35 +0800\nSubject: [PATCH] qemu-user-riscv64 default cpu is c910v\n\nSigned-off-by: Han Gao <gaohan@iscas.ac.cn>\n---\n linux-user/riscv/target_elf.h | 4 ++--\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/linux-user/riscv/target_elf.h b/linux-user/riscv/target_elf.h\nindex 9dd65652ee45..3195cfa71408 100644\n--- a/linux-user/riscv/target_elf.h\n+++ b/linux-user/riscv/target_elf.h\n@@ -9,7 +9,7 @@\n #define RISCV_TARGET_ELF_H\n static inline const char *cpu_get_model(uint32_t eflags)\n {\n-    /* TYPE_RISCV_CPU_ANY */\n-    return "any";\n+    /* TYPE_RISCV_CPU_C910V */\n+    return "c910v";\n }\n #endif\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7f16\u8bd1\u6d41\u7a0b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./configure \\\n  --prefix=$HOME/qemu-install \\\n  --static \\\n  --target-list=riscv64-linux-user \\\n  --disable-system \\\n  --disable-pie \\\n  --interp-prefix=/etc/qemu-binfmt/%M\n\nmake -j20\n"})})]})}function l(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var r=t(6540);const s={},a=r.createContext(s);function c(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);