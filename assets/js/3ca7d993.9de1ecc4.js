"use strict";(self.webpackChunkrevyos_docs_new=self.webpackChunkrevyos_docs_new||[]).push([[3876],{3654:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>t,contentTitle:()=>i,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"desktop/revyos-use-docker","title":"Docker","description":"\u6e90\u4e2d\u5df2\u6709 riscv64 \u7684docker\u5b89\u88c5\u5305\uff0c\u540d\u4e3a docker.io\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528:","source":"@site/docs/desktop/revyos-use-docker.md","sourceDirName":"desktop","slug":"/desktop/revyos-use-docker","permalink":"/revyos-docs-new/docs/desktop/revyos-use-docker","draft":false,"unlisted":false,"editUrl":"https://github.com/kagura114/revyos-docs-new/docs/desktop/revyos-use-docker.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Docker","sidebar_position":1},"sidebar":"documentSidebar","previous":{"title":"GStreamer pipeline","permalink":"/revyos-docs-new/docs/adaptation/GStreamer-pipeline-example-with-thead-omxil-lib"},"next":{"title":"\u5b89\u88c5","permalink":"/revyos-docs-new/docs/desktop/install"}}');var n=o(4848),c=o(8453);const d={title:"Docker",sidebar_position:1},i="\u5b89\u88c5 riscv64 docker",t={},a=[{value:"Rootless Docker",id:"rootless-docker",level:2},{value:"\u4e3a Docker \u914d\u7f6e\u4ee3\u7406",id:"\u4e3a-docker-\u914d\u7f6e\u4ee3\u7406",level:2}];function l(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"\u5b89\u88c5-riscv64-docker",children:"\u5b89\u88c5 riscv64 docker"})}),"\n",(0,n.jsxs)(s.p,{children:["\u6e90\u4e2d\u5df2\u6709 riscv64 \u7684docker\u5b89\u88c5\u5305\uff0c\u540d\u4e3a ",(0,n.jsx)(s.code,{children:"docker.io"}),"\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"sudo apt install docker.io\n"})}),"\n",(0,n.jsx)(s.h1,{id:"\u6d4b\u8bd5-docker",children:"\u6d4b\u8bd5 docker"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"sudo docker pull riscv64/debian:unstable\n"})}),"\n",(0,n.jsx)(s.h1,{id:"\u6280\u5de7",children:"\u6280\u5de7"}),"\n",(0,n.jsx)(s.h2,{id:"rootless-docker",children:"Rootless Docker"}),"\n",(0,n.jsx)(s.p,{children:"\u5982\u679c\u9700\u8981\u4e0d\u4ee5 root \u6743\u9650\u8fd0\u884c docker, \u5373\u5982\u679c\u4e0d\u7528 sudo, \u51fa\u73b0\u4e86\u4e0b\u9762\u7684\u9519\u8bef\uff1a"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:'debian@lpi4a:~$ docker pull riscv64/debian:unstable\nGot permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/images/create?fromImage=riscv64%2Fdebian&tag=unstable": dial unix /var/run/docker.sock: connect: permission denied\n'})}),"\n",(0,n.jsxs)(s.p,{children:["\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u7528\u6237\u52a0\u5165 ",(0,n.jsx)(s.code,{children:"docker"})," \u7528\u6237\u7ec4\u4e2d:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"sudo usermod -aG docker $USER # \u6216\u6362\u6210\u9700\u8981\u514droot\u8fd0\u884cdocker\u7684\u7528\u6237\u540d\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u91cd\u65b0\u767b\u9646\uff0c\u5982\u679c\u51fa\u73b0\u4e0b\u9762\u7684\u7ed3\u679c\u5373\u53ef\u514d\u7279\u6743\u8fd0\u884cdocker"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"$ id\nuid=1000(debian) gid=1000(debian) groups=1000(debian),4(adm),7(lp),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),105(netdev),106(bluetooth),112(docker),996(input) # \u8fd9\u91cc\u51fa\u73b0\u4e86 docker \u7528\u6237\u7ec4\u5373\u53ef\n"})}),"\n",(0,n.jsx)(s.h2,{id:"\u4e3a-docker-\u914d\u7f6e\u4ee3\u7406",children:"\u4e3a Docker \u914d\u7f6e\u4ee3\u7406"}),"\n",(0,n.jsxs)(s.p,{children:["\u901a\u8fc7 ",(0,n.jsx)(s.code,{children:"systemctl edit"})," \u547d\u4ee4\uff0c\u6dfb\u52a0\u4e00\u4e2a\u5bf9 ",(0,n.jsx)(s.code,{children:"docker.service"})," \u7684\u4fee\u6539\u914d\u7f6e\uff0c\u8fd9\u79cd\u65b9\u5f0f\u76f8\u8f83\u4e8e\u76f4\u63a5\u4fee\u6539 ",(0,n.jsx)(s.code,{children:"docker.service"})," \u66f4\u52a0\u7075\u6d3b\uff0c\u907f\u514d\u4e86\u7cfb\u7edf\u66f4\u65b0\u540e\u914d\u7f6e\u6587\u4ef6\u88ab\u8986\u76d6\u7684\u95ee\u9898\u3002"]}),"\n",(0,n.jsxs)(s.p,{children:["\u5728\u7ec8\u7aef\u4e2d\u8fd0\u884c ",(0,n.jsx)(s.code,{children:"sudo systemctl edit docker"})," \u547d\u4ee4\uff0c\u5c06\u4f1a\u6253\u5f00\u5982\u4e0b\u56fe\u6240\u793a\u7684\u7f16\u8f91\u754c\u9762\u3002"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"\u547d\u4ee4\u6267\u884c\u540e\u6253\u5f00\u7684\u7f16\u8f91\u5668\u754c\u9762",src:o(4512).A+"",width:"1405",height:"820"})}),"\n",(0,n.jsx)(s.p,{children:"\u5728\u4e2d\u95f4\u7a7a\u767d\u5904\u63d2\u5165\u4e0b\u9762\u7684\u914d\u7f6e\uff08\u8bb0\u5f97\u5c06\u914d\u7f6e\u4e2d\u7684\u4ee3\u7406\u5730\u5740\u6539\u4e3a\u5b9e\u9645\u4f7f\u7528\u7684\u5730\u5740\uff09\uff1a"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-toml",children:'[Service]\nEnvironment="HTTP_PROXY=http://proxy.example.com:8080/"\nEnvironment="HTTPS_PROXY=http://proxy.example.com:8080/"\nEnvironment="NO_PROXY=localhost,127.0.0.1,.example.com"\n'})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"\u7f16\u8f91\u5b8c\u6210\u7684\u754c\u9762",src:o(6471).A+"",width:"1409",height:"820"})}),"\n",(0,n.jsx)(s.p,{children:"\u6dfb\u52a0\u5b8c\u6210\u540e\u91cd\u542f docker \u5373\u53ef"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"sudo systemctl restart docker\n"})})]})}function p(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},4512:(e,s,o)=>{o.d(s,{A:()=>r});const r=o.p+"assets/images/docker-edit-service-overlay-4133bf46bb560abc48075ab5e14f56c8.png"},6471:(e,s,o)=>{o.d(s,{A:()=>r});const r=o.p+"assets/images/docker-edit-service-overlay-done-92db1f9593c11b488da748dec3b6626c.png"},8453:(e,s,o)=>{o.d(s,{R:()=>d,x:()=>i});var r=o(6540);const n={},c=r.createContext(n);function d(e){const s=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),r.createElement(c.Provider,{value:s},e.children)}}}]);